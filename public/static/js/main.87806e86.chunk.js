(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{151:function(e,t,n){},177:function(e,t){},179:function(e,t){},192:function(e,t){},194:function(e,t){},222:function(e,t){},223:function(e,t){},228:function(e,t){},230:function(e,t){},237:function(e,t){},256:function(e,t){},286:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(142),o=n.n(a),i=(n(151),n(4)),r=n(10),j=n.n(r),u=n(18),l=n(7),b=(n(32),n(0)),d=function(e){var t=e.setToken,n=c.useState(""),s=Object(i.a)(n,2),a=s[0],o=s[1],r=c.useState(""),u=Object(i.a)(r,2),d=u[0],h=u[1],O=c.useState(""),x=Object(i.a)(O,2),f=x[0],p=x[1],m=Object(l.g)();return f?Object(b.jsx)("div",{className:"container",children:f}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{type:"text",id:"username",value:a,onChange:function(e){o(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{type:"password",id:"password",value:d,onChange:function(e){h(e.target.value)}}),Object(b.jsx)("button",{disabled:!a&&!d,onClick:function(){j.a.post("/api/auth/login",{username:a,password:d}).then((function(e){return e.data})).then((function(e){t(e.jwt_token),m.push("/")})).catch((function(e){return p("Something went wrong please try again!")}))},children:"Login"})]})},h=function(){var e=c.useState(null),t=Object(i.a)(e,2),n=t[0],s=t[1],a=c.useState("none"),o=Object(i.a)(a,2),r=o[0],u=o[1],d=c.useState(""),h=Object(i.a)(d,2),O=h[0],x=h[1],f=c.useState(""),p=Object(i.a)(f,2),m=p[0],g=p[1],v=Object(l.g)();c.useEffect((function(){j.a.get("/api/users/me").then((function(e){return e.data})).then((function(e){return s(e.user)})).catch((function(e){return console.log(e)})),console.log(n)}),[]);return n?Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("h3",{children:[" Username: ",n.username]}),Object(b.jsxs)("h3",{children:["CreatedDate: ",n.createdDate]}),Object(b.jsxs)("h3",{children:["Id: ",n._id]}),Object(b.jsx)("button",{onClick:function(){u("none"===r?"block":"none")},children:"show profile info as plain text"}),Object(b.jsx)("p",{style:{display:r},children:JSON.stringify(n)}),Object(b.jsx)("hr",{}),Object(b.jsx)("label",{htmlFor:"oldPassword",children:"Old Password: "}),Object(b.jsx)("input",{type:"text",id:"oldPassword",value:O,onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"newPassword",children:"New Password: "}),Object(b.jsx)("input",{type:"text",id:"newPassword",value:m,onChange:function(e){return g(e.target.value)}}),Object(b.jsx)("button",{onClick:function(){j.a.patch("/api/users/me",{oldPassword:O,newPassword:m}).then((function(e){})).catch((function(e){}))},disabled:!O||!m,children:"Submit"}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{onClick:function(){j.a.delete("/api/users/me").then((function(e){return v.push("/register")})).catch((function(e){}))},children:"Delete user"})]}):null},O=function(){var e=c.useState(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=c.useState(""),o=Object(i.a)(a,2),r=o[0],u=o[1],l=c.useState(""),d=Object(i.a)(l,2),h=d[0],O=d[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Register"}),h?Object(b.jsx)("p",{children:h}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{type:"text",id:"username",value:n,onChange:function(e){s(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{type:"password",id:"password",value:r,onChange:function(e){u(e.target.value)}}),Object(b.jsx)("button",{disabled:!n&&!r,onClick:function(){j.a.post("/api/auth/register",{username:n,password:r}).then((function(e){return e.data})).then((function(e){return console.log(e)})).catch((function(e){O(e.message)}))},children:"Register"})]})]})},x=n(25),f=n(146),p=n(145),m=n.n(p);var g=function(e){var t=e.component,n=e.token,c=Object(f.a)(e,["component","token"]);return n=n||"ryJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Ikt5cnlsbyIsIl9pZCI6IjYxMjlmOTgzMjkxOWI0ZTc3ZmMzZWI3MSIsImlhdCI6MTYzMDE0MDgyMywiZXhwIjoxNjMwMTU4ODIzfQ.lmvgJXuBPQQFRrsEYWbrYDPe7UII2pJEFoi2BOA1bgo",m.a.verify(n,"n74cmew9ce94t98e9smfch5vh",(function(e,s){return e?Object(b.jsx)(l.b,Object(x.a)(Object(x.a)({},c),{},{render:function(){return Object(b.jsx)(l.a,{to:"/login"})}})):Object(b.jsx)(l.b,Object(x.a)(Object(x.a)({},c),{},{render:function(e){return Object(b.jsx)(t,Object(x.a)(Object(x.a)({},e),{},{token:n}))}}))}))},v=function(){var e=c.useState(null),t=Object(i.a)(e,2),n=t[0],s=t[1],a=c.useState(""),o=Object(i.a)(a,2),r=o[0],l=o[1],d=c.useState(null),h=Object(i.a)(d,2),O=h[0],x=h[1],f=c.useState(!1),p=Object(i.a)(f,2),m=p[0],g=p[1],v=c.useState(1),w=Object(i.a)(v,2),S=w[0],k=w[1],C=c.useState(1),y=Object(i.a)(C,2),I=y[0],F=y[1];c.useEffect((function(){j.a.get("/api/notes?offset=".concat(S,"&limit=").concat(I)).then((function(e){return e.data})).then((function(e){return s(e.notes)})).catch((function(e){return x(e.message)}))}),[m,I,S]);return O?Object(b.jsx)("div",{className:"container",children:O}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Set Query"}),Object(b.jsx)("label",{htmlFor:"offset",children:"Offset: "}),Object(b.jsx)("input",{type:"number",id:"offset",value:S,onChange:function(e){return k(e.target.value)},min:0}),Object(b.jsx)("label",{htmlFor:"limit",children:"Limit: "}),Object(b.jsx)("input",{type:"number",id:"limit",value:I,onChange:function(e){return F(e.target.value)},min:0})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Add a new todo"}),Object(b.jsx)("label",{htmlFor:"text",children:"Text: "}),Object(b.jsx)("input",{type:"text",value:r,onChange:function(e){l(e.target.value)}}),Object(b.jsx)("button",{onClick:function(){j.a.post("/api/notes",{text:r}).then((function(e){return g(!m)}))},disabled:!r,children:"Add a new todo"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{children:"List of todos"}),Object(b.jsx)("ul",{children:n&&n.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/notes/".concat(e._id),children:e.text})},e._id)}))})]})},w=function(e){e.token;var t=c.useState(null),n=Object(i.a)(t,2),s=n[0],a=n[1],o=c.useState(null),r=Object(i.a)(o,2),u=r[0],d=r[1],h=c.useState(!1),O=Object(i.a)(h,2),x=O[0],f=O[1],p=Object(l.h)().id,m=Object(l.g)();c.useEffect((function(){j.a.get("/api/notes/".concat(p)).then((function(e){return e.data})).then((function(e){a(e.note)})).catch((function(e){return console.log(e)}))}),[p,x]);return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h4",{children:"Todo Page"}),s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:s.text}),Object(b.jsx)("hr",{}),Object(b.jsx)("label",{htmlFor:"text",children:"Text: "}),Object(b.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:"enter new text"}),Object(b.jsx)("button",{onClick:function(){j.a.put("/api/notes/".concat(p),{text:u}).then((function(e){return f(!x)}))},children:"Save"}),Object(b.jsx)("hr",{}),Object(b.jsx)("label",{htmlFor:"completed",children:"Completed: "}),Object(b.jsx)("input",{type:"checkbox",id:"completed",checked:s.completed,onClick:function(){j.a.patch("/api/notes/".concat(p)).then((function(e){return f(!x)}))}}),Object(b.jsx)("button",{onClick:function(){j.a.delete("/api/notes/".concat(p)).then((function(e){return m.push("/notes")}))},children:"Delete todo"})]}):null]})};var S=function(){var e=c.useState(null),t=Object(i.a)(e,2),n=t[0],s=t[1];return c.useEffect((function(){j.a.defaults.headers.common.jwt_token=n}),[n]),Object(b.jsxs)(u.a,{children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/register",children:"Register"})}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/login",children:"Login"})}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/notes",children:"Notes"})})]})}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{exact:!0,path:"/register",children:Object(b.jsx)(O,{})}),Object(b.jsx)(l.b,{exact:!0,path:"/login",children:Object(b.jsx)(d,{setToken:s})}),Object(b.jsx)(g,{exact:!0,path:"/",component:h,token:n}),Object(b.jsx)(g,{exact:!0,path:"/notes",component:v,token:n}),Object(b.jsx)(g,{exect:!0,path:"/notes/:id",component:w,token:n})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),k()},32:function(e,t,n){}},[[286,1,2]]]);
//# sourceMappingURL=main.87806e86.chunk.js.map